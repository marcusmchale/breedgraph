# Program Mutations
input CreateProgramInput {
    name: String!
    fullname: String
    description: String
    contact_ids: [Int!] = []
    reference_ids: [Int!] = []
    release: String = "REGISTERED"
}

input UpdateProgramInput {
    program: Int!
    name: String
    fullname: String
    description: String
    contact_ids: [Int!]
    reference_ids: [Int!]
    release: String
}

# Trial Mutations
input CreateTrialInput {
    program: Int!
    name: String!
    fullname: String
    description: String
    start: DateTime
    end: DateTime
    contact_ids: [Int!] = []
    reference_ids: [Int!] = []
    release: String = "REGISTERED"
}

input UpdateTrialInput {
    trial_id: Int!
    name: String
    fullname: String
    description: String
    start: DateTime
    end: DateTime
    contact_ids: [Int!]
    reference_ids: [Int!]
    release: String
}

# Study Mutations
input CreateStudyInput {
    trial: Int!
    name: String!
    fullname: String
    description: String
    practices: String
    start: DateTime
    end: DateTime
    factor_ids: [Int!] = []
    observation_ids: [Int!] = []
    design_id: Int
    licence_id: Int
    reference_ids: [Int!] = []
    release: String = "REGISTERED"
}

input UpdateStudyInput {
    study: Int!
    name: String
    fullname: String
    description: String
    practices: String
    start: DateTime
    end: DateTime
    factor_ids: [Int!]
    observation_ids: [Int!]
    design_id: Int
    licence_id: Int
    reference_ids: [Int!]
    release: String
}

# Mutation type extensions for programs
extend type Mutation {
    # Program mutations
    create_program(program: CreateProgramInput!): BooleanPayload
    update_program(program: UpdateProgramInput!): BooleanPayload
    delete_program(program_id: Int!): BooleanPayload

    # Trial mutations
    create_trial(trial: CreateTrialInput!): BooleanPayload
    update_trial(trial: UpdateTrialInput!): BooleanPayload
    delete_trial(trial_id: Int!): BooleanPayload

    # Study mutations
    create_study(study: CreateStudyInput!): BooleanPayload
    update_study(study: UpdateStudyInput!): BooleanPayload
    delete_study(study_id: Int!): BooleanPayload
}